# 逻辑表达式

逻辑操作符&&、||和!执行布尔代数操作，经常与关系操作符一起使用，把两个关系表达式组合为更复杂的表达式。

## 逻辑与 &&

最简单的情况下，在与布尔操作数共同使用时，&&对两个值执行布尔与操作:当且仅当第一个 操作数为true并且第二个操作数也为true时，才返回true。如果有一个操作数是false，或者两个操作数都是false，它返回false。

&&经常用于连接两个关系表达式:

```js
x === 0 && y === 0 // 当且仅当 x 和 y 都为 0 时，整个表达式才为 true
```

关系操作符的优先级高于&&(以及||)，因此类似这样的表达式可以不带圆括号。

但&&不要求其操作数是布尔值。我们知道，所有JavaScript值 要么是“真值”，要么是“假值”(假值包括false、 null、undefined、0、-0、NaN和""。所有其他值，包括所有对象都是真值)。

理解&&的第二个层次是它对真值和假值执行布尔与操作。如果两个操作数都是真值，&&返回一个真值;否则(一个或两个操作数是假值)，&&返回假值。

这个操作符首先对第一个操作数即它左边的表达式求值，如果左边的值是 假值，则整个表达式的值也一定是假值，因此&&返回它左侧的值，不再求值它右侧的表达式。

另一方面，如果&&左侧的值是真值，则整个表达式的值取决于右侧的值。如果右侧的值是真值，则整个表达式的值一定是真值; 如果右侧的值是假值，则整个表达式的值一定是假值。因此，在左侧的值为真值时，&&操作符求值并返回它右侧的值:

```js
let o = { x: 1 };
let p = null;
o && o.x; //=> 1: o 是真值,因此返回 o.x 的值
p && p.x; // => null: p是假值，因此返回它，不对 p.x 求值
```

这里关键是要理解，&&可能会(也可能不会)对其右侧操作数求值。在这个代码示例中，变量p的值为null，表达式p.x如果被求值会导致TypeError。但代码中以惯用方式利用&&只在p为真值(不是null或undefined)时才对p.x求值。

## 逻辑或 ||

||操作符对它的操作数执行布尔或操作。如果有一个操作数是 真值，这个操作符就返回真值。如果两个操作数都是假值，它就返回假值。

尽管||操作符最常用作简单的布尔或操作符，但它与&&类似， 也有更复杂的行为。它首先会对第一个操作数，即它左侧的表达式 求值。如果第一个操作数的值是真值，||就会短路，直接返回该真 值，不再对右侧表达式求值。而如果第一个操作数的值是假值， 则||会求值其第二个操作数并返回该表达式的值。

## 逻辑非 !

!操作符是个一元操作符，出现在操作数前面。这个操作符的目的是反转其操作数的布尔值。

与&&和||不同，!操作符将其操作数转换为布尔值，然后再反转得到的布尔值。这意味着!始终返回true 或false，而要取得任何值x对应的布尔值，只要对x应用这个操作符 两次即可:!!x

作为一元操作符，!优先级较高。

有必要说一下，可以通过如下 JavaScript语法来表达布尔代数的两个法则:

```js
// 德摩根定律
!(p && q) === (!p || !q); //=> true: p 和 q 可以是任何值
!(p || q) === (!p && !q); // => true: p 和 q 可以是任何值
```

